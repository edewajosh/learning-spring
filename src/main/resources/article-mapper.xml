<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Article">
	<resultMap type="User" id="blogResult">
		<id property="id" column="id" />
		<result property="title" column="title" />
		<result property="body" column="body" />
		<result property="createdOn" column="createdOn" />

		<association property="user" column="author_id"
			javaType="User" select="User.getUserById"></association>
	</resultMap>
	<select id="getArticleById" parameterType="int"
		resultMap="blogResult">
		SELECT * FROM article WHERE id=#{id};
	</select>
	<select id="getAllArticles" resultMap="blogResult">
		SELECT * FROM article;
	</select>
	<insert id="createAddress">
		INSERT INTO article(title, body, createdOn,
		author_id) VALUES(#{title},
		#{body}, #{createdOn}, #{author_id});
	</insert>
	<update id="updateAddress" parameterType="Article">
		UPDATE article SET
		title=#{title},
		body=#{body}, createdOn=#{createdOn},
		author_id=#{author_id});
	</update>
	<delete id="deleteByAddressId" parameterType="int">
		DELETE FROM article WHERE id=#{id};
	</delete>
	<delete id="deleteAllArticle">
		DELETE FROM article;
	</delete>
</mapper>